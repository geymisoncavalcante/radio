(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[30815,35972],{294184:(e,n)=>{var t;!function(){var r={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)&&t.length){var i=a.apply(null,t);i&&e.push(i)}else if("object"===o)for(var s in t)r.call(t,s)&&t[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(n,[]))||(e.exports=t)}()},560053:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,a=e[r];if(!(0<o(a,n)))break e;e[r]=n,e[t]=a,t=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,t))l<a&&0>o(u,c)?(e[r]=u,e[l]=t,r=l):(e[r]=c,e[s]=t,r=s);else{if(!(l<a&&0>o(u,t)))break e;e[r]=u,e[l]=t,r=l}}}return n}function o(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();n.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,p=null,m=3,f=!1,h=!1,v=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function T(e){for(var n=r(u);null!==n;){if(null===n.callback)a(u);else{if(!(n.startTime<=e))break;a(u),n.sortIndex=n.expirationTime,t(l,n)}n=r(u)}}function b(e){if(v=!1,T(e),!h)if(null!==r(l))h=!0,N(E);else{var n=r(u);null!==n&&O(b,n.startTime-e)}}function E(e,t){h=!1,v&&(v=!1,y(C),C=-1),f=!0;var o=m;try{for(T(t),p=r(l);null!==p&&(!(p.expirationTime>t)||e&&!M());){var i=p.callback;if("function"==typeof i){p.callback=null,m=p.priorityLevel;var s=i(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof s?p.callback=s:p===r(l)&&a(l),T(t)}else a(l);p=r(l)}if(null!==p)var c=!0;else{var d=r(u);null!==d&&O(b,d.startTime-t),c=!1}return c}finally{p=null,m=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,w=!1,A=null,C=-1,x=5,I=-1;function M(){return!(n.unstable_now()-I<x)}function P(){if(null!==A){var e=n.unstable_now();I=e;var t=!0;try{t=A(!0,e)}finally{t?S():(w=!1,A=null)}}else w=!1}if("function"==typeof _)S=function(){_(P)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,k=R.port2;R.port1.onmessage=P,S=function(){k.postMessage(null)}}else S=function(){g(P,0)};function N(e){A=e,w||(w=!0,S())}function O(e,t){C=g((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){h||f||(h=!0,N(E))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return r(l)},n.unstable_next=function(e){switch(m){case 1:case 2:case 3:var n=3;break;default:n=m}var t=m;m=n;try{return e()}finally{m=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=m;m=e;try{return n()}finally{m=t}},n.unstable_scheduleCallback=function(e,a,o){var i=n.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,t(u,e),null===r(l)&&e===r(u)&&(v?(y(C),C=-1):v=!0,O(b,o-i))):(e.sortIndex=s,t(l,e),h||f||(h=!0,N(E))),e},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(e){var n=m;return function(){var t=m;m=n;try{return e.apply(this,arguments)}finally{m=t}}}},363840:(e,n,t)=>{e.exports=t(560053)},653250:(e,n,t)=>{var r=t(667294);var a="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},o=r.useState,i=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function l(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!a(e,t)}catch(r){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=o({inst:{value:t,getSnapshot:n}}),a=r[0].inst,u=r[1];return s((function(){a.value=t,a.getSnapshot=n,l(a)&&u({inst:a})}),[e,t,n]),i((function(){return l(a)&&u({inst:a}),e((function(){l(a)&&u({inst:a})}))}),[e]),c(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},950139:(e,n,t)=>{var r=t(667294),a=t(61688);var o="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},i=a.useSyncExternalStore,s=r.useRef,c=r.useEffect,l=r.useMemo,u=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,a){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=l((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==a&&p.hasValue){var n=p.value;if(a(n,e))return s=n}return s=e}if(n=s,o(i,e))return n;var t=r(e);return void 0!==a&&a(n,t)?n:(i=e,s=t)}var i,s,c=!1,l=void 0===t?null:t;return[function(){return e(n())},null===l?void 0:function(){return e(l())}]}),[n,t,r,a]);var m=i(e,d[0],d[1]);return c((function(){p.hasValue=!0,p.value=m}),[m]),u(m),m}},61688:(e,n,t)=>{e.exports=t(653250)},552798:(e,n,t)=>{e.exports=t(950139)},375571:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(667294),a=t(172071),o=t(395164);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class s extends r.Component{constructor(...e){super(...e),i(this,"state",{error:null,info:null}),i(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,n){try{var t;const n=this.props.name,r=this.props.type||"secondary";(0,o.T)({extraData:null!==(t=e.extraData)&&void 0!==t?t:{},errorBoundary:n,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(r){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:n})}render(){const{renderErrorState:e}=this.props,{error:n,info:t}=this.state;return n&&t?e?e({error:n,info:t,resetError:this.resetError}):null:this.props.children}}},319915:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t(375571).Z},965261:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(6637);const a=e=>r.Z.create("InviteAttributionResource",{invite_code:e}).callCreate();var o=t(826067);const i=(e=(e=>{}))=>{const n=(0,o.mB)(window.location.search),t=n.invite_code;t?a(t):e(n)}},755742:(e,n,t)=>{t.d(n,{Z:()=>r});const r={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},567450:(e,n,t)=>{function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:()=>i});const a=new class{constructor(){r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((n=>n!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((n=>n!==e))}},o=e=>{if(e.isHidden){const{reason:n}=e;a.onPauseListeners.forEach((e=>e(n)))}else a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const i=a},335972:(e,n,t)=>{t.d(n,{Z:()=>J});var r=t(667294),a=t(317672),o=t(790348);const i=e=>{const n=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,n)=>{const t=n.name.replace(".jpg","").split("/");return{[t[t.length-1]]:{downloadSize:n.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const t=e.src.replace(".jpg","").split("/"),r=t[t.length-1];if(n[r]){var o;const t=(null===(o=(0,a.rZ)(e))||void 0===o?void 0:o.width)||1,i=n[r].downloadSize;return{fileName:r,renderedSize:t,downloadedSize:i,ratio:i/t}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const t=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=t[t.length-1];if(n[r]&&e instanceof HTMLDivElement){var o;const t=(null===(o=(0,a.rZ)(e))||void 0===o?void 0:o.width)||1,i=n[r].downloadSize;return{fileName:r,renderedSize:t,downloadedSize:i,ratio:i/t}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((n=>{const{ratio:t,fileName:r,downloadedSize:a}=n;n.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*t)/10,tags:{fileName:`${a}_${r}`}})}))};var s=t(435851),c=t(860273),l=t(543059),u=t(607150);const d=({constraintMap:e,initialNavTiming:n,annotations:t})=>({...t,...(0,u.jh)("constraint_",e),...(0,u.jh)("mark_",(0,l.gQ)()),...(0,u.jh)("browser_",{...n?(0,u.D3)(n):{},...(0,u.rX)()})});var p=t(358864),m=t(505771),f=t(156381);const h=(e,n)=>{const{firstInputDelay:t}=(0,f.v2)();return[...e.map((e=>(0,m.Z)(e,n))).filter(Boolean),...t?[{name:"fid",id:(0,p.Z)(),parentId:n,startTime:t.startTime,endTime:t.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var v=t(172071),g=t(22773),y=t(453821),_=t(638089);const T=({annotateExperiments:e,annotations:n,binaryAnnotations:t,constraintMap:r,endTime:a,imageTimings:o,metricId:i,pwtStaticContext:l,startTime:u,traceId:p,spans:m})=>{const T=(0,g.Cg)();let b;if("initial_app_load"===i.navigationType&&(b=(0,c.Z)()),"board"===i.surface&&!1===l.isAuthenticated){const e=(0,s.Z)(l),n=(0,f.Bn)();let t;t=n<=2500?"Good":n>2500&&n<=4e3?"Needs Improvement":"Poor";const r=Array.from(T.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=a))),o=[],i=[],c=[],u=[];r.forEach((e=>{"img"===e.initiatorType?o.push(e):"css"===e.initiatorType?i.push(e):"script"===e.initiatorType?c.push(e):"xmlhttprequest"===e.initiatorType&&u.push(e)}));const d=(n,r="allResources")=>{const o=n.length;if(o>0&&"object"==typeof n[0]&&!Array.isArray(n[0])){const i=n.sort(((e,n)=>e.fetchStart-n.fetchStart));let s=1;const c=a/5;let l=0;for(;s<=5;){let n=0;for(;l<=o-1&&i[l].fetchStart<=c*s;)l+=1,n+=1;v.Z.gauge(`${e}.tags.board.${r}.fetchStartInterval${s}of5`,n,.2,{lcpTimingBucket:t}),v.Z.gauge(`${e}.board.${r}.fetchStartInterval${s}of5`,n,.2),s+=1}const u={};u.zeroPercentInFlight=i[0].fetchStart,u.twentyFivePercentInFlight=i[Math.floor(o/4)].fetchStart,u.fiftyPercentInFlight=i[2*Math.floor(o/4)].fetchStart,u.seventyFivePercentInFlight=i[3*Math.floor(o/4)].fetchStart,u.hundredPercentInFlight=i[o-1].fetchStart;const d=n.sort(((e,n)=>e.responseEnd-n.responseEnd));u.twentyFivePercentComplete=d[Math.floor(o/4)].responseEnd,u.fiftyPercentComplete=d[2*Math.floor(o/4)].responseEnd,u.seventyFivePercentComplete=d[3*Math.floor(o/4)].responseEnd,u.hundredPercentComplete=d[o-1].responseEnd;for(const n in u)u[n]&&(v.Z.timing(`${e}.tags.board.${r}.${n}`,u[n],.2,{lcpTimingBucket:t}),v.Z.timing(`${e}.board.${r}.${n}`,u[n],.2))}};d(r),d(o,"image"),d(i,"css"),d(c,"scripts"),d(u,"xhr")}const E=o.map((({name:e})=>e)),S=T.map((e=>(0,y.p)(e,E))).filter((({timing:e})=>!(({startTime:e,responseEnd:n},t)=>e>t.endTime||!!n&&n<t.startTime||e<t.startTime-100)(e,{startTime:u,endTime:a})));return{type:"COMPLETE",traceId:p,startTime:u,endTime:a,spans:h(S,p).concat(m),annotationMap:d({constraintMap:r,initialNavTiming:b,annotations:n}),binaryAnnotationMap:(0,_.rA)({annotateExperiments:e,binaryAnnotations:t,entries:T,metricId:i,performanceResources:S,pwtEndTime:a,pwtStaticContext:l})}};let b=!1;const E=(e,n)=>e&&n?b?((0,o.H)("duplicated_initial_app_load_surface_pwt"),(0,p.Z)()):(b=!0,n):(0,p.Z)();var S=t(883119),w=t(226464),A=t(785893);function C({children:e,heading:n}){return(0,A.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,A.jsx)("thead",{children:(0,A.jsx)("tr",{children:(0,A.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,A.jsx)(S.xv,{weight:"bold",align:"center",children:n})})})}),(0,A.jsx)("tbody",{children:e})]})}function x({name:e,children:n}){return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:(0,A.jsx)(S.xv,{weight:"bold",children:e})}),(0,A.jsx)("td",{children:"string"==typeof n?(0,A.jsx)(S.xv,{children:n}):n})]})}function I({result:e}){return"ABORT"===e.type?(0,A.jsx)(x,{name:"Abort Reason",children:e.reason}):(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(x,{name:"PWT (ms)",children:(0,A.jsx)(S.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,A.jsx)(x,{name:"PinTrace",children:(0,A.jsx)(S.xv,{italic:!0,children:(0,A.jsx)(S.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:"Open in a new tab"})})})]})}function M({data:e}){const{metricId:n,constraints:t,constraintMap:r,startTime:a,result:o}=e;return(0,A.jsxs)(S.xu,{children:[(0,A.jsxs)(C,{heading:(0,w.KJ)(n),children:[(0,A.jsx)(x,{name:"Thrift Id",children:String((0,w.Rp)(n))}),(0,A.jsx)(x,{name:"Surface",children:n.surface}),(0,A.jsx)(x,{name:"Navigation Type",children:n.navigationType}),(0,A.jsx)(x,{name:"Viewer Authed",children:String(n.isAuthenticated)})]}),(0,A.jsx)(C,{heading:"Constraints",children:t.map((e=>(0,A.jsx)(x,{name:e,children:(0,A.jsx)(S.xv,{align:"end",children:r[e]?Math.round(r[e]-a):"pending..."})},`constraint_${e}`)))}),(0,A.jsx)(C,{heading:"Result",children:o?(0,A.jsx)(I,{result:o}):(0,A.jsx)(x,{name:"result",children:(0,A.jsx)(S.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var P=t(223815);const R=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function k({data:e}){const[n,t]=(0,r.useState)(!1);return(0,A.jsx)(P.Z,{children:(0,A.jsxs)(S.mh,{children:[(0,A.jsx)(S.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,A.jsx)(S.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:R(e),icon:"flash",size:"lg",onClick:()=>t(!0)})}),n&&(0,A.jsx)(S.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,A.jsx)(S.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>t(!1),footer:null,size:"sm",children:(0,A.jsx)(S.xu,{padding:6,children:(0,A.jsx)(M,{data:e})})})})]})})}var N=t(558775);const O=(e,n)=>{const t=(0,r.useRef)(e);(0,r.useEffect)((()=>{t.current=e}),[e]);const a=(0,r.useRef)(n);(0,r.useEffect)((()=>{a.current=n}),[n]),(0,r.useEffect)((()=>()=>a.current(t.current)),[])},L=(e,n)=>{const[t,a]=(0,r.useState)(n);return{state:t,dispatch:n=>a((t=>e(t,n)))}};var j=t(985271),D=t(7789),Z=t(383434),B=t(567450),U=t(276602),H=t(198462);const $=["initial_app_load","client_route_push"],z=(0,Z.X)("PwtSurface"),F="NavigationComplete",G="VisuallyComplete",K=(e,n)=>{e.isSampled&&(0,N.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:n}})},V=e=>{if(e.metricConfig.constraints.every((n=>e.constraintMap[n]))){const n=Math.max(...e.metricConfig.constraints.map((n=>e.constraintMap[n])));return((e,n)=>{var t;const{metricConfig:{metricId:r,pwtStaticContext:a,annotateExperiments:s},annotations:c,binaryAnnotations:u,constraintMap:d,startTime:p,imageTimings:m,isSampled:f,spans:h}=e;(0,l.L8)(`PWT_Complete_${(0,w.KJ)(r)}`);const v=E("initial_app_load"===r.navigationType,null===(t=a.serverData)||void 0===t?void 0:t.trace_id),g=T({annotateExperiments:s,annotations:c,binaryAnnotations:u,constraintMap:d,endTime:n,imageTimings:m,metricId:r,pwtStaticContext:a,startTime:p,traceId:v,spans:h});f&&(0,N.Z)({metricId:r,pwtStaticContext:a,result:g});try{i(String(g.binaryAnnotationMap["metricId.surface"].value))}catch(y){(0,o.H)("image_ratio_check_error",{error:y})}return{...e,result:g,status:"DONE"}})(e,n)}return e},W=(e,n)=>{const{constraint:t,time:r}=n,a=(0,w.KJ)(e.metricConfig.metricId);return j.Z?e.metricConfig.constraints.find((e=>e===t))?e.constraintMap[t]?(z(`constraint "${t}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:t,action:a}),e):(z(`marking constraint "${t}" as complete`),(0,l.ZP)(`constraint_${t}_is_complete`),V({...e,constraintMap:{...e.constraintMap,[t]:r||j.Z.now()}})):(z(`marked constraint "${t}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:a}),e)},q=(e,n)=>{if(z("dispatch action",n),"INIT_ROUTE"===n.type)return((e,n)=>{const{metricConfig:t,startTime:r,isSampled:a}=n;if("TIMING"===e.status&&r!==e.startTime&&K(e,"routeUpdatedOnSameSurface"),!t)return{status:"DISABLED",metricConfig:null};const i=(0,w.KJ)(t.metricId);return"TIMING"===e.status&&e.startTime===r&&e.constraintMap.NavigationComplete?((0,o.H)("duplicated_init_route_action",{action:i}),e):("Other"===t.pwtStaticContext.browserName&&!1===t.metricId.isAuthenticated&&"initial_app_load"===t.metricId.navigationType?((0,o.A9)(`TIMING.${i}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(c=s.navigator)||void 0===c?void 0:c.userAgent}}),(0,o.A9)(`TIMING.sampled.${i}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(u=l.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,o.A9)(`TIMING.${i}`),(0,o.A9)(`TIMING.sampled.${i}`,{sampleRate:.5})),W({status:"TIMING",metricConfig:t,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:F}));var s,c,l,u})(e,n.payload);if("TIMING"!==e.status)return z(`ignoring action due to invalid state ${e.status}`,n),e;switch(n.type){case"ABORT":K(e,n.reason);const t={type:"ABORT",reason:n.reason};return{...e,status:"DONE",result:t};case"ANNOTATE":const{name:r}=n.payload;if(!j.Z)return e;const a=j.Z.now();return z(`adding annotation {${r}: ${a}}`),{...e,annotations:{...e.annotations,[r]:a}};case"BINARY_ANNOTATE":const{name:i,value:s,annotationType:c}=n.payload;return z(`adding binary annotation {${i}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[i]:{value:s,type:c}}};case"MARK_CONSTRAINT_COMPLETE":return W(e,n.payload);case"REMOVE_CONSTRAINT":return((e,n)=>{if(!j.Z){const n=(0,w.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:n})}z(`removing constraint "${n}"`);const t=e.metricConfig.constraints.filter((e=>e!==n)),{[n]:r,...a}=e.constraintMap;return V({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:t}})})(e,n.payload);case"SET_SEGMENT":return((e,n)=>{if(!j.Z){const n=(0,w.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:n})}z(`updating pwt segment to "${n}"`);const t={...e.metricConfig.metricId,segment:n};return{...e,metricConfig:{...e.metricConfig,metricId:t}}})(e,n.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:t}}=n;if(0===t.length){K(e,"visuallyComplete_noImages");const n={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:n}}const r=Math.max(...t.map((e=>e.responseEnd||0)));return W({...e,imageTimings:t},{constraint:G,time:r})}case"ADD_SUBSPAN":const{startTime:l}=e,{payload:{name:u,startTime:d,endTime:m,annotations:f,binaryAnnotations:h,parentId:v}}=n;return{...e,spans:[...e.spans,{name:u,id:(0,p.Z)(),startTime:d||l,endTime:m,annotationMap:{...f},binaryAnnotationMap:{...h},parentId:v}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:n.payload.name,id:(0,p.Z)(),startTime:j.Z?j.Z.now():0,endTime:1/0,annotationMap:{...n.payload.annotations},binaryAnnotationMap:{...n.payload.binaryAnnotations},parentId:n.payload.parentId}]};case"STOP_SUBSPAN":const g=e.spans.findIndex((e=>e.name===n.payload.name));return g>-1?(e.spans[g].endTime=j.Z?j.Z.now():0,n.payload.annotations&&(e.spans[g].annotationMap={...e.spans[g].annotationMap,...n.payload.annotations}),n.payload.binaryAnnotations&&(e.spans[g].binaryAnnotationMap={...e.spans[g].binaryAnnotationMap,...n.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:n.payload.name}),e;default:const y=(0,w.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:y}),e}};function J({children:e,...n}){var t;const a=(0,H.fM)(),i=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(a),s=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth",...null!==(t=n.annotateExperiments)&&void 0!==t?t:[]],c={...n,annotateExperiments:s,navigationInfo:{navigationType:i,clientNavigation:a}},{state:l,context:u}=(({surface:e,constraints:n,segment:t,measureGridVisuallyComplete:a,annotateExperiments:o,customEnabledNavigationTypes:i,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:l})=>{const u=(0,r.useRef)("NOT_SET"),d=(0,H.N5)(),{state:p,dispatch:m}=L(q,{status:"DISABLED",metricConfig:null});if(u.current!==s&&(u.current=s,d)){const{isAuthenticated:r}=d,u=i||$,p=e&&c&&u.includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:r,segment:t},annotateExperiments:o,constraints:[F,...n||[],...a?[G]:[]],pwtStaticContext:d}:null;m({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:s?s.time:0,isSampled:!l||Math.random()<l}})}if((0,r.useEffect)((()=>{const e=e=>{m({type:"ABORT",reason:e})};B.Z.onSessionPause(e);const n=()=>{window.removeEventListener("resize",n),m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{B.Z.removePauseListener(e),window.removeEventListener("resize",n)}}),[]),O(p,(e=>{z("handling unmount",e),"TIMING"===e.status&&K(e,"unmount")})),"TIMING"!==p.status||!p.constraintMap.NavigationComplete)return{state:p,context:null};const{startTime:f,metricConfig:h}=p;return{state:p,context:{id:f,metricId:h.metricId,abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,n,t)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:n,annotationType:t}}),setVisuallyCompleteResult:h.constraints.includes(G)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:j.Z?j.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),addSubspan:(e,n,t,r={},a={},o=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:n,endTime:t,annotations:r,binaryAnnotations:a,parentId:o}}),startSubspan:(e,n={},t={},r=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:n,binaryAnnotations:t,parentId:r}}),stopSubspan:(e,n={},t={},r=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:n,binaryAnnotations:t,parentId:r}})}}})(c);return(()=>{const e=(0,U.EV)(),n=!!e;(0,r.useEffect)((()=>{if(n){const n=null!=e&&e.metricId?(0,w.KJ)(e.metricId):null;(0,o.H)("nested_pwt_surface",{action:n})}}),[n])})(),(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(U.Sb,{value:u,children:e}),D.DQ&&"DISABLED"!==l.status&&(0,A.jsx)(k,{data:{metricId:l.metricConfig.metricId,constraints:l.metricConfig.constraints,constraintMap:l.constraintMap,startTime:l.startTime,result:"DONE"===l.status?l.result:null}})]})}},311560:(e,n,t)=>{t.d(n,{Z:()=>r});const r=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},886858:(e,n,t)=>{t.d(n,{Z:()=>i,k:()=>o});const r=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!r.has(e)&&!e.startsWith("__track__");function o(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,n)=>{const[t,r]=n.split("=");return e[t]=JSON.parse(r),e}),{})}const i=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(a).sort().map((n=>`${n}=${JSON.stringify(null==e[n]?null:e[n])}`)).join(","):""},379725:(e,n,t)=>{t.d(n,{U2:()=>c,bi:()=>l,v_:()=>u});var r=t(886858),a=t(6637),o=t(414327),i=t(718368);function s({fetchOptions:e,resource:n,retry:t}){return(c,l)=>{var u,d,p;const{bookmark:m,headers:f,options:h,refresh:v,schema:g}=e,y=(0,r.Z)(h);if(null!==(u=l().resources)&&void 0!==u&&null!==(d=u[n])&&void 0!==d&&null!==(p=d[y])&&void 0!==p&&p.fetching&&!t)return Promise.resolve();const _=t?t.bookmark:m,T=_?{...h,bookmarks:[_]}:h;return c((0,o.LQ)(n,h,!0)),a.Z.create(n,T).callGet(void 0,f).then((r=>{var l,u,d;const p=null===(l=r.resource_response)||void 0===l?void 0:l.data,[f]=r.bookmarks||[];if(Array.isArray(p)&&0===p.length&&f&&f!==i.q){const r=t?t.count:0;if(!(r>=i.s))return c(s({resource:n,fetchOptions:e,retry:{count:r+1,bookmark:f}}))}null===(u=a.Z.customDataManipulations)||void 0===u||u.call(a.Z,n,p);const{normalizedResponse:y,resourceSchema:_}=(null===(d=a.Z.normalizeResponse)||void 0===d?void 0:d.call(a.Z,{data:p,opts:{bookmark:m,options:h,schema:g},resource:n}))||{normalizedResponse:null,resourceSchema:void 0};return m?(c((0,o.Dm)(n,h,r,y,_)),a.Z.fetchMoreCompleteCallback&&a.Z.fetchMoreCompleteCallback({resource:n,options:h,response:r,normalizedResponse:y,refresh:v,resourceSchema:_})):(c((0,o.Sr)(n,h,r,y,v,_)),a.Z.fetchCompleteCallback&&a.Z.fetchCompleteCallback({resource:n,options:h,response:r,normalizedResponse:y,refresh:v,resourceSchema:_})),Promise.resolve()}),(e=>{c((0,o.Tl)(n,h,e))}))}}const c=(e,{bookmark:n,headers:t,options:r,schema:a})=>s({resource:e,fetchOptions:{bookmark:n,headers:t,options:r,refresh:!1,schema:a}}),l=(e,{headers:n,options:t,schema:r})=>s({resource:e,fetchOptions:{headers:n,options:t,refresh:!0,schema:r}});function u(e,n,t){return r=>{const{options:i}=n;return a.Z.create(e,i).callCreate().then((n=>{var a;if(null!==(a=n.resource_response)&&void 0!==a&&a.data){const a=n.resource_response.data,s=(null==t?void 0:t(a))||null;r((0,o.XM)(e,i,n,s))}return n}),(n=>(r((0,o.Tl)(e,i,n)),n)))}}},718368:(e,n,t)=>{t.d(n,{q:()=>r,s:()=>a});const r="-end-",a=10},338739:(e,n,t)=>{t.d(n,{AF:()=>r,KK:()=>a,aW:()=>s,cR:()=>o,se:()=>c,zP:()=>i});const r="CREATE_COMPLETE",a="FETCHING",o="FETCH_ERROR",i="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",c="RESOURCE_INVALIDATE"},414327:(e,n,t)=>{t.d(n,{Dm:()=>c,LQ:()=>o,Sr:()=>s,Tl:()=>i,XM:()=>a,jB:()=>l});var r=t(338739);function a(e,n,t,a){return{type:r.AF,payload:{resource:e,options:n,response:t,normalizedResponse:a}}}function o(e,n,t){return{type:r.KK,payload:{resource:e,options:n,isFetching:t}}}const i=(e,n,t)=>({type:r.cR,payload:{resource:e,options:n,error:t}});function s(e,n,t,a,o,i){return{type:r.zP,payload:{isRefresh:o,normalizedResponse:a,options:n,resource:e,response:t,schema:i}}}function c(e,n,t,a,o){return{type:r.aW,payload:{resource:e,options:n,response:t,normalizedResponse:a,schema:o}}}function l(e,n){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:n}}}},784590:(e,n,t)=>{t.d(n,{Z:()=>d});var r=t(667294),a=t(702664),o=t(886858),i=t(718368),s=t(276775),c=t(780280),l=t(379725);const u={};function d(e){const{enabledRouteRefresh:n,__unstableEnableSuspenseSupport:t,headers:d,name:p,noCache:m,options:f,schema:h}=null!=e?e:{name:"DisabledResource",options:null},v=!e,g=(0,a.useDispatch)(),y=(0,o.Z)(f),_=(0,r.useRef)(null),T=(0,r.useRef)(),b=(0,s.useHistory)(),E=b&&"POP"!==b.action,S=e=>(e[p]||u)[y]||u,w=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),A=(0,a.useSelector)((({resources:e})=>S(e).data)),C=(0,a.useSelector)((({resources:e})=>S(e).auxData)),x=(0,a.useSelector)((({resources:e})=>S(e).error)),I=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),M=Boolean(x)||void 0!==A,P=M&&!I&&w===i.q,R=Boolean(M&&n&&E&&!v),[k,N]=(0,r.useState)(R),O=(0,r.useCallback)((e=>{_.current=g((0,l.U2)(p,{options:f,schema:h,bookmark:e,headers:d}))}),[g,p,y,h,d]),L=()=>{_.current=g((0,l.bi)(p,{options:f,schema:h,headers:d}))},{isBot:j}=(0,c.B)(),D=()=>{if(!v&&T.current!==y){const e=void 0===T.current;T.current=y,!M&&!I||e&&x&&(({httpStatus:e})=>!e||e>=500)(x)?O():(!j&&m||R)&&L()}};(0,r.useEffect)((()=>{t||D()})),t&&D();const Z=(0,r.useCallback)((()=>{v||(L(),N(!0))}),[v,l.bi,p,y,d,N]),B=(0,r.useCallback)((()=>{!w||P||I||v||O(w)}),[v,O,w,P,I]);if(_.current)if(M&&!I)_.current=null;else if(t)throw _.current;const U=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:B,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:Z}),H={auxData:C,data:A,error:x,fetchMore:B,isAtEnd:P,isFetching:I,isLoaded:M,isRefreshing:k,nextBookmark:w,refresh:Z};return(0,a.shallowEqual)(H,U.current)||(!k||!U.current.data&&R||(0,a.shallowEqual)(H.data,U.current.data)||(H.isRefreshing=!1,N(!1)),U.current=H),U.current}},223815:(e,n,t)=>{t.d(n,{U:()=>i,Z:()=>s});var r=t(755742),a=t(785893);const o=()=>{},i=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:n,allowMediaPlay:t,allowScroll:s,children:c}){const l=e=>function(e,n){n&&e.keyCode===r.Z.ESCAPE||i(e)}(e,n);return(0,a.jsx)("div",{onAbort:i,onAnimationEnd:i,onAnimationIteration:i,onAnimationStart:i,onBlur:o,onCanPlay:t?o:i,onCanPlayThrough:i,onChange:i,onClick:e?o:i,onCompositionEnd:i,onCompositionStart:i,onCompositionUpdate:i,onContextMenu:i,onCopy:i,onCut:i,onDoubleClick:i,onDurationChange:i,onEmptied:i,onEncrypted:i,onEnded:i,onError:i,onFocus:o,onInput:i,onInvalid:i,onKeyDown:l,onKeyPress:l,onKeyUp:l,onLoad:i,onLoadedData:i,onLoadedMetadata:i,onLoadStart:i,onMouseDown:i,onMouseEnter:i,onMouseLeave:i,onMouseMove:e?o:i,onMouseOut:i,onMouseOver:i,onMouseUp:e?o:i,onPaste:i,onPause:i,onPlay:i,onPlaying:i,onProgress:i,onRateChange:i,onScroll:s?o:i,onSeeked:i,onSeeking:i,onSelect:i,onStalled:i,onSubmit:i,onSuspend:i,onTimeUpdate:i,onTouchCancel:i,onTouchEnd:e?o:i,onTouchMove:e?o:i,onTouchStart:e?o:i,onTransitionEnd:i,onVolumeChange:i,onWaiting:i,onWheel:i,children:c})}},281180:(e,n,t)=>{t.d(n,{Tt:()=>u,kW:()=>c,kY:()=>d,mN:()=>l});var r=t(702664),a=t(19121),o=t(425288),i=t(785893);const{Provider:s,useHook:c}=(0,o.Z)("Users");function l(){const e=c();return n=>e[n]}function u(){const{id:e}=(0,a.Z)();return c()[null!=e?e:""]}function d({children:e}){const n=(0,r.useSelector)((({users:e})=>e),r.shallowEqual);return(0,i.jsx)(s,{value:n,children:e})}},622878:(e,n,t)=>{function r(e,n){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:n}}}function a(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}t.d(n,{L:()=>a,m:()=>r})},395164:(e,n,t)=>{t.d(n,{T:()=>s,Z:()=>c});var r=t(635240),a=t(226198),o=t(314880);const i=[];function s(e){let n;try{n=JSON.stringify({errorObj:e})}catch(l){n=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const t=(s={report_context:JSON.stringify({current_url:window.location.href,client_version:(0,r.Z)()}),report_data:n},Object.keys(s).map((e=>e+"="+encodeURIComponent(s[e]))).join("&"));var s;const c=window.btoa(t);if(-1===i.indexOf(c)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const n=(0,o.H)();n&&e.setRequestHeader("X-Pinterest-PWS-Handler",n),e.setRequestHeader("X-CSRFToken",function(e){const n=("; "+document.cookie).split("; "+e.name+"=");return 2===n.length?n.pop().split(";").shift():""}(a.fS)),e.send(t),i.push(c)}i.length>100&&i.shift()}function c(){window.addEventListener("error",(e=>{const n=e.error||{};s({extraData:n.extraData,name:n.name,message:n.message||e.message,stack:n.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var n,t,r,a,o;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:i}=e,c="string"==typeof(null==i?void 0:i.message)?i.message:String(i);s({name:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:"unhandledrejection",message:c,message_detail:null==i?void 0:i.message_detail,original_message:null==i?void 0:i.original_message,stack:null==i?void 0:i.stack,filename:null==i?void 0:i.fileName,line:null!==(t=null!==(r=null==i?void 0:i.lineno)&&void 0!==r?r:null==i?void 0:i.line)&&void 0!==t?t:null==i?void 0:i.lineNumber,column:null!==(a=null!==(o=null==i?void 0:i.column)&&void 0!==o?o:null==i?void 0:i.colno)&&void 0!==a?a:null==i?void 0:i.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/30815-5c8e79a9f283ea55.mjs.map